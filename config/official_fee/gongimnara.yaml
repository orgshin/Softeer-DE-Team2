general:
  log_file: "data/logs/official_fee/gongimnara.log"
  # out_json, raw_dir 등 로컬 경로는 S3 설정으로 대체됨

# AWS S3 설정 추가
aws:
  s3_connection_id: "conn_s3"  # Airflow에 설정할 AWS Connection ID
  raw_bucket_name: "team2-html-raw"      # 실제 S3 버킷 이름으로 변경하세요
  raw_html_prefix: "official_fee/gongimnara"  # HTML 원본 파일을 저장할 S3 경로
  out_bucket: "team2-html-out"  # Parquet을 저장할 버킷 (예시)
  out_parquet_prefix: "official_fee/gongimnara"  # 최종 Parquet 파일을 저장할 S3 경로

targets:
  cate:
    "39": "국산차"
    "41": "타이어"

requests:
  base: "https://www.gongim.com"
  page_url: "/front/html/repair.php"
  ajax_cate_list: "/front/html/proc/getGongImCateList.php"
  ajax_sub_list: "/front/html/proc/getGongImCateSubList1.php"
  timeout: 20
  retries: 3
  backoff_base: 1.5
  delay_min: 1.2
  delay_max: 2.5
  headers:
    Accept-Language: "ko,en;q=0.9"
  user_agents:
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.0 Safari/605.1.15"

selectors:
  cate_button: ".sortBtn"
  cate_button_label: "text"
  cate_button_sub_attr: "data-catesubno"

titles:
  exclude_keywords: ["수정일", "업데이트", "update", "등록일", "체크사항"]
  max_length: 50
  min_length: 2
  priority_selectors: [".jewon_ttl", ".oilyang", "h3", "h4", "strong", "b"]
  parent_hops: 2

parsing:
  amount_time_regex: "(?P<amount>[\\d,]+)\\s*원?(?:\\s*\\((?P<time>[^)]+)\\))?"

official_fee:
  bucket: "team2-html-out"  # Parquet 파일이 있는 버킷
  prefix: "official_fee/gongimnara" # Parquet 파일이 있는 경로 (마지막 / 제외)
  table_name: "official_fee"