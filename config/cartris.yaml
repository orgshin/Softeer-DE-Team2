# ======================================================
# 크롤링 전반에 사용될 설정 파일 (JSON 출력용)
# ======================================================

general:
  # 📂 경로 설정
  html_storage_dir: "data/raw/official_fee/cartris"
  output_json: "data/out/official_fee/cartris.json"  # 👈 JSON 파일로 경로 변경
  downloader_log_file: "data/logs/official_fee/cartris_downloader.log"
  parser_log_file: "data/logs/official_fee/cartris_parser.log"
  pretty_indent: 2  # 👈 JSON 들여쓰기 설정

requests:
  base_url: "https://cartris.co.kr/sub/labor_cost1.php"
  timeout: 20
  retries: 3
  delay_min: 8.0
  delay_max: 10.0
  backoff_base: 1.5
  headers:
    Accept-Language: "ko,en;q=0.9"
  user_agents:
    - "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36"
    - "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.0 Safari/605.1.15"
    - "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36"
  proxies: []

urls:
  ranges:
    - { ca: 1, id_start: 2, id_end: 23 }
  explicit:
    - { ca: 3, id: 8 }
    - { ca: 3, id: 4 }
    - { ca: 3, id: 27 }

# ======================================================
# HTML 파싱 관련 설정
# ======================================================

selectors:
  page_category: "h3.filter_title"
  section: "div.maintenance_detail"
  table: "table.table_st2"
  table_title: ".title_wrap strong"
  header_last_row: true

parsing:
  # 공임 컬럼 탐지(헤더명에 정규식 매칭)
  labor_col_regex: "공임"
  # "19,000원 (20분)" 형식 분리
  amount_time_regex: "(?P<amount>[\\d,]+)\\s*원?(?:\\s*\\((?P<time>[^)]+)\\))?"
  # 헤더가 없을 때 생성할 접두사
  default_col_prefix: "col_"